<%= render "searches/extra_content" %>
<section class="scrollable wrapper">
  <div class="tab-content">
    <div class="tab-pane active" id="sparkline">
      <div class="row">
        <div class="col-lg-12">
          <div id="scatter_plot">

          </div>
          <section class="panel">
            <header class="panel-heading">
              Stats
            </header>
            <div class="panel-body">
              <div class="btn-group" data-toggle="buttons">
                <label class="btn btn-sm btn-white active">
                  <input type="radio" name="options" id="option1"> Day
                </label>
                <label class="btn btn-sm btn-white">
                  <input type="radio" name="options" id="option2"> Week
                </label>
                <label class="btn btn-sm btn-white">
                  <input type="radio" name="options" id="option2"> Month
                </label>
                <label class="btn btn-sm btn-white">
                  <input type="radio" name="options" id="option2"> Year
                </label>
              </div>
              <div class="line line-lg pull-in"></div>
              <div class="sparkline" data-type="line" data-resize="true" data-height="185" data-width="100%" data-line-width="1" data-line-color="#afcf6f" data-spot-color="#afcf6f" data-fill-color="rgba(240,240,240,0.5)" data-highlight-line-color="#e1e5e9" data-spot-radius="4" data-data="[120,250,200,325,400,380,250,320,345,250,250,250,200,325,300,365,250,210,200,180,150,160,250,250,250,200,300,310,330,250,320,205]" data-composite-config='{"lineColor":"#dddddd","fillColor":"#ffffff","spotColor":"#dddddd","spotRadius":"4"}' data-composite-data="[325,220,250,200,350,380,250,320,345,250,250,250,200,325,300,365,250,210,200,180,150,160,250,250,250,200,300,310,330,250,320,205]"></div>
              <ul class="list-inline text-muted axis"><li>12:00<br>am</li><li>2:00</li><li>4:00</li><li>6:00</li><li>8:00</li><li>10:00</li><li>12:00<br>pm</li><li>2:00</li><li>4:00</li><li>6:00</li><li>8:00</li><li>10:00</li></ul>
            </div>
          </section>
        </div>
      </div>
      <div class="row">
        <div class="col-lg-4">
          <section class="panel">
            <header class="panel-heading">Pie</header>
            <div class="panel-body text-center">
              <div class="sparkline inline" data-type="pie" data-height="150" data-slice-colors="['#99c7ce','#f2f2f2']">60,40</div>
              <div class="line pull-in"></div>
              <div class="text-xs">
                <i class="icon-circle text-info"></i> 60%
                <i class="icon-circle text-muted"></i> 40%
              </div>
            </div>
          </section>
        </div>
        <div class="col-lg-4">
          <section class="panel">
            <header class="panel-heading">Composite</header>
            <div class="text-center bg-success clearfix">
              <div class="m-t-lg padder">
                <div class="sparkline" data-type="line" data-resize="true" data-height="100" data-width="100%" data-line-width="1" data-line-color="#fff" data-spot-color="#fff" data-fill-color="" data-highlight-line-color="#fff" data-spot-radius="4" data-data="[120,250,200,325,400,380,250,320,345,250,250,250]"></div>
                <div class="sparkline inline" data-type="bar" data-height="57" data-bar-width="6" data-bar-spacing="10" data-bar-color="#a4d55d">5,8,12,10,11,12,8,9,6,7,8,6,10,7</div>
              </div>
            </div>
            <footer class="panel-footer text-sm">Check more data</footer>
          </section>
        </div>
        <div class="col-lg-4">
          <section class="panel">
            <header class="panel-heading">Stacked</header>
            <div class="panel-body text-center">
              <div class="sparkline inline" data-type="bar" data-height="160" data-bar-width="12" data-bar-spacing="10" data-stacked-bar-color="['#afcf6f', '#eee']">5:5,8:4,12:5,10:6,11:7,12:2,8:6,9:3,5:5,4:9</div>
              <ul class="list-inline text-muted axis"><li>1</li><li>2</li><li>3</li><li>4</li><li>5</li><li>6</li><li>7</li><li>8</li><li>9</li><li>10</li></ul>
            </div>
          </section>
        </div>
      </div>
    </div>
    <div class="tab-pane" id="morris">
      <div class="row">
        <div class="col-lg-8">
          <section class="panel">
            <header class="panel-heading">
              <h1 class="panel-title">THE APPROVAL MATRIX</h1>
            </header>
            <div id="chart"></div>
          </section>
        </div>
        <div class="col-lg-4">
           <section class="panel bg-warning no-borders">
            <div class="row">
              <div class="col-xs-6">
                <div class="wrapper">
                  <p>All time sales</p>
                  <p class="h2 font-bold">32.5%</p>
                  <div class="progress progress-xs progress-striped active m-b-sm">
                    <div class="progress-bar progress-bar-warning" data-toggle="tooltip" data-original-title="32.5%" style="width: 32.5%"></div>
                  </div>
                  <div class="text-sm">of visitors purchased this item.</div>
                </div>
              </div>

              <div class="col-xs-6 wrapper text-center">
                <div class="inline m-t-sm">
                  <div class="easypiechart easyPieChart" data-percent="32.5" data-line-width="8" data-bar-color="#ffffff" data-track-color="#c79d43" data-scale-color="false" data-size="100" style="width: 100px; height: 100px; line-height: 100px;">
                    <span class="h2">32.5</span>%
                  <canvas width="100" height="100"></canvas></div>
                </div>
              </div>
            </div>
          </section>

            <section class="panel bg-light">
              <header class="panel-heading bg-info">
                Top 10 Words in these Tweets
              </header>
              <%= content_tag :div, "", id: "words-donut", data: {words: @tweet_analyzer.word_labels}, class: "graph" %>
            </section>
        </div>

      </div>
      <div class="row">
        <div class="col-lg-6">
          <section class="panel">
            <header class="panel-heading">
              Jaguar 'E' Type vehicles in the UK
            </header>
            <div id="hero-graph" class="graph"></div>
          </section>
        </div>

        <div class="col-lg-6">
          <section class="panel">
            <header class="panel-heading">
              Quarterly Apple iOS device unit sales
            </header>
            <div id="hero-area" class="graph"></div>
          </section>
        </div>
        <div class="col-lg-6">
          <section class="panel">
            <header class="panel-heading">
              iPhone CPU benchmarks
            </header>
            <div id="hero-bar" class="graph"></div>
          </section>
        </div>
      </div>
    </div>
    <div class="tab-pane" id="easy-pie-chart">
      <div class="row">
        <div class="col-lg-4">
          <section class="panel">
            <header class="panel-heading">
              Reprehensibility Score
            </header>
            <div class="panel-body text-center">
              <h4><%= @tweet_analyzer.reprehensibility %><small> /10</small></h4>
              <small class="text-muted block">Updated at 2 minutes ago</small>
              <div class="inline">
                <div class="easypiechart" data-percent="<%= @tweet_analyzer.reprehensibility * 100 %>" data-line-width="16" data-loop="false" data-size="188">
                  <span class="h2"><%= @tweet_analyzer.reprehensibility * 100 %></span>%
                  <div class="easypie-text"><button class="btn btn-link m-t-n-sm" data-toggle="class:pie"><i class="icon-play text text-muted"></i><i class="icon-pause text-active text-muted"></i></button></div>
                </div>
              </div>
            </div>
            <div class="panel-footer"><small>% of avarage rate of the Conversion</small></div>
          </section>
        </div>
        <div class="col-lg-4">
          <section class="panel">
            <header class="panel-heading">
              Pop Culture Meter
            </header>
            <div class="panel-body text-center">
              <h4><small>last </small>12<small> hrs</small></h4>
              <small class="text-muted block">yesterday: 20%</small>
              <div class="inline">
                <div class="easypiechart" data-percent="<%= @tweet_analyzer.pop_culture_score * 10 %>" data-line-width="6" data-loop="false" data-size="188">
                  <span class="h2"><%= @tweet_analyzer.pop_culture_score %></span>%
                  <div class="easypie-text">Today</div>
                </div>
              </div>
            </div>
            <div class="panel-footer"><small>% of change</small></div>
          </section>
        </div>
        <div class="col-lg-4">
          <section class="panel">
            <header class="panel-heading">
              Awesomeness
            </header>
            <div class="panel-body text-center">
              <h4><%= @tweet_analyzer.awesomeness %></h4>
              <small class="text-muted block">How awesome your search was</small>
              <div class="inline">
                <div class="easypiechart" data-percent="<%= @tweet_analyzer.awesomeness * 100 %>" data-line-width="30" data-track-color="#eee" data-bar-color="#afcf6f" data-scale-color="#fff" data-loop="false" data-size="188">
                  <span class="h2"><%= @tweet_analyzer.awesomeness * 100 %></span>%
                  <div class="easypie-text">yeah, pretty awesome</div>
                </div>
              </div>
            </div>
            <div class="panel-footer"><small>% of avarage rate of the visits</small></div>
          </section>
        </div>
      </div>
    </div>
  </div>
</section>



<script>

// set up our data series with 50 random data points

var seriesData = [ [], [], [] ];
var random = new Rickshaw.Fixtures.RandomData(150);

for (var i = 0; i < 500; i++) {
  random.addData(seriesData);
}

// instantiate our graph!

var graph = new Rickshaw.Graph( {
  element: document.getElementById("chart"),
  width: 750,
  height: 500,
  renderer: 'scatterplot',
  series: [
    {
      data: [ { x: -10, y: 0 },
              { x: 0, y: 10 },
              { x: 0, y: -10 },
              { x: 10, y: 0 }
            ],
      color: "#ffffff",
      name: "max and mins"
    }, {
      color: "#ff9030",
      data: [ { x: <%= @approval_matrix.despicable_or_brilliant %>, y: <%= @approval_matrix.lowbrow_or_highbrow %> }
      ],
      name: "<%= @search.keywords %>"
    }
    // {
    //   color: "#ff9030",
    //   data: seriesData[0],
    // }, {
    //   color: "#ff4040",
    //   data: seriesData[1],
    // }
  ]
} );

graph.renderer.dotSize = 6;

new Rickshaw.Graph.HoverDetail({ graph: graph });

graph.render();

var ticksTreatment = 'glow';

var xAxis = new Rickshaw.Graph.Axis.X( {
  graph: graph,
  ticks: 3,
  ticksTreatment: ticksTreatment,
} );

xAxis.render();

var yAxis = new Rickshaw.Graph.Axis.Y( {
  graph: graph,
  tickFormat: Rickshaw.Fixtures.Number.formatKMBT,
  ticks: 3,
  ticksTreatment: ticksTreatment
} );

yAxis.render();
</script>

